<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        #box{
            position: absolute;
            top : 50%;
            left : 50%;
            width: 200px;
            height: 200px;
            transform: translate(-50%,-50%);
            overflow: hidden;
        }
        #container{         
            width: 1400px;
            
        }
        
      
        #slider-one{
            background-color: blue;
            width: 200px;
            height: 200px;
            
        }
        #slider-two{
            
            background-color: gray;
            width: 200px;
            height: 200px;
            
        }
        #slider-three{
            width: 200px;
            height: 200px;
            background-color: beige;
        }

        #hidden{
            display: none;
        }

        .slide{
            float: left;
            /* border: 10px solid black; */
        }
        .hidden{
            display: none;
        }
        
    </style>
</head>
<body>
    
    <button id = 'buttonNext'> next </button>
    <button id = 'buttonPrevious'> previous </button>
    <div id="box">
        
        <div id = 'container' style="transform: translateX(-200px)" >
        <div class = 'slide' id = 'slider-one'  >  1  </div>
        <div class = 'slide' id = 'slider-two'>  2  </div>
        <div class = 'slide' id = 'slider-three'> 3 </div>
        </div>

    </div>
    
    <script>
        const buttonNext = document.querySelector('#buttonNext')
        const buttonPrevious = document.querySelector('#buttonPrevious')
        const hidden = document.querySelector('#hidden');
        const slide = document.querySelector('.slide');
        
        const container = document.querySelector('#container')
        let isMouseDown = false;
        let startX = 0;
        let nowX;
        let moveMinus = -200;
        let movePlus = 200;
        let moveElement = moveMinus + movePlus;
        let curIndex = 0;
        makeClone()
        function makeClone(){
            let slide_first = container.firstElementChild.cloneNode(true);
            let slide_last = container.lastElementChild.cloneNode(true);
            container.insertBefore(slide_last,container.firstElementChild);
            container.append(slide_first);
        }
        
        function nextMethod(){
            
            
            if(curIndex !== 3){
                container.style.transform = "translate3d(-"+200*(curIndex+2)+"px, 0px, 0px)"
                container.style.transition ='0.5s ease-out'
            }
            else if(curIndex ===3){
                setTimeout(function (){
                        container.style.transform = `translateX(-200px)`
                        container.style.transition='0s ease-out'
                        curIndex = 0;
                        console.log('me')
                    },0); // return???
            }
            curIndex++;
            
            console.log(curIndex)
        }
        
        buttonNext.addEventListener('click',nextMethod);
        buttonPrevious.addEventListener('click',previousMethod);
        
        
        
        function previousMethod(){
          
           
        }
    </script>
</body>
</html>